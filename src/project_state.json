{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 67,
  "summary": "Project to add a \"Security\" role with higher privileges than Administrator for the caffeine website, controlled/authorized by the app controller (user), and expand the app to connect to the Internet Computer (canister API integration), add Internet Identity login, and support deployment to ICP mainnet; also add a working superuser UI control to support security audits.",
  "architectural_notes": [
    "Planned: dashboard will include an App Controller–only standalone in-browser code editor capable of editing both backend (Motoko) and frontend (React/TypeScript) code, with an action to apply changes and trigger deploy.",
    "Planned: add ICP integration, including canister API wiring, Internet Identity authentication, and an ICP mainnet deployment path.",
    "Planned: add an App Controller/Security-only in-app \"root terminal\" interface with an extensive command set for administrative management.",
    "Decision: Root Terminal command set will be expanded to cover all backend capabilities and also include non-backend/utility commands; commands will be kept flat (no namespaces/groups).",
    "Decision: Root Terminal administrative actions should be real (backend-powered) rather than simulated/local-only where applicable; remove simulations for admin operations.",
    "Decision: Expand the World Wide Web Controller (Web Control) feature set to include many more safe capabilities (hundreds), including read-only ICP diagnostics, frontend-only operational tools, and role/principal self-check helpers, while continuing to exclude security/audit/role-admin functionality."
  ],
  "known_issues": [
    "Deployment/build flow failed during attempted deploy (\"Unable to complete deployment\" / \"build didn’t go through\").",
    "Root Terminal feature is not working (user reports it doesn't work).",
    "App can get stuck on \"Loading\" after deploy / on first load.",
    "Root Terminal is not accepting commands or showing output even when ICP Connection shows \"Connected\" (terminal input/handler may be broken).",
    "ICP Controller page/panel is not visible/accessible in the app UI (user reports they don't see the ICP Controller page).",
    "ICP Controller page/panel still not visible/accessible in the app UI (user reports they still can't see it after latest deploy).",
    "Privilege escalation risk related to granting the World Wide Web Controller (\"Web control\") role needs to be removed before role granting is safe.",
    "Network Map/graph visuals are not rendering correctly for the user even when ICP Connection shows \"Connected\" (blank/only partial display).",
    "UI visuals and dropdown menus need repair (dropdowns/visual styling broken or not functioning).",
    "Network graph fails to load with error message \"failed to load network graph\" (user requests ICP connection repair)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-the-frontend-access-gating-so-that-users-who-are-either-app-controller-or-security-can-access-the-dashboard-all-others-see-access-denied",
      "title": "Update the frontend access gating so that users who are either App Controller OR Security can access the dashboard; all others see Access Denied.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-update-user-facing-text-in-the-access-denied-screen-and-header-badge-s-to-reflect-the-new-security-role-english-only",
      "title": "Update user-facing text in the Access Denied screen and header badge(s) to reflect the new Security role (English only).",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-app-controller-only-deployment-section-in-the-dashboard-ui-that-clearly-shows-where-and-how-to-deploy-the-app-including-a-prominent-external-link-to-https-caffeine-ai-and-concise-step-by-step-instructions-for-deploying-from-the-caffeine-platform-ui",
      "title": "Add an App Controller–only “Deployment” section in the dashboard UI that clearly shows where and how to deploy the app, including a prominent external link to https://caffeine.ai and concise step-by-step instructions for deploying from the Caffeine platform UI.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-app-controller-only-dashboard-panel-to-manage-the-security-role-allow-entering-a-principal-granting-the-security-role-revoking-the-security-role-and-viewing-the-current-list-of-security-role-principals",
      "title": "Add an App Controller–only dashboard panel to manage the Security role: allow entering a principal, granting the Security role, revoking the Security role, and viewing the current list of Security-role principals.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-to-call-the-backend-apis-for-listing-security-role-principals-and-for-granting-revoking-the-security-role-including-cache-invalidation-for-any-affected-queries",
      "title": "Add React Query hooks to call the backend APIs for listing Security-role principals and for granting/revoking the Security role, including cache invalidation for any affected queries.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-app-controller-only-standalone-code-editor-section-in-the-admin-dashboard-ui",
      "title": "Add an App Controller–only, standalone \"Code Editor\" section in the admin dashboard UI.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-in-the-code-editor-section-provide-an-in-browser-editor-that-supports-editing-both-backend-motoko-code-and-frontend-react-typescript-code-by-selecting-from-a-fixed-set-of-supported-files-at-minimum-backend-main-mo-and-frontend-src-app-tsx",
      "title": "In the Code Editor section, provide an in-browser editor that supports editing both backend Motoko code and frontend React/TypeScript code by selecting from a fixed set of supported files (at minimum: backend/main.mo and frontend/src/App.tsx).",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-apply-changes-action-in-the-code-editor-that-produces-a-deploy-ready-output-for-the-edited-files-without-attempting-to-self-modify-the-live-canister-code",
      "title": "Implement an \"Apply changes\" action in the Code Editor that produces a deploy-ready output for the edited files without attempting to self-modify the live canister code.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-standalone-deploy-action-within-the-code-editor-section-that-guides-the-app-controller-to-deploy-via-https-caffeine-ai-reusing-the-same-deployment-guidance-approach-as-the-existing-deployment-panel",
      "title": "Add a standalone \"Deploy\" action within the Code Editor section that guides the App Controller to deploy via https://caffeine.ai, reusing the same deployment guidance approach as the existing Deployment panel.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-lightweight-safety-ux-layer-to-prevent-accidental-loss-of-edits-in-the-code-editor-unsaved-change-warning-and-reset",
      "title": "Add a lightweight safety/UX layer to prevent accidental loss of edits in the Code Editor (unsaved-change warning and reset).",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-in-app-icp-connection-section-that-clearly-shows-whether-the-frontend-is-connected-to-the-internet-computer-canister-and-displays-the-active-canister-id-and-network-local-vs-mainnet-with-a-user-facing-error-state-when-the-backend-actor-is-not-available",
      "title": "Add an in-app “ICP Connection” section that clearly shows whether the frontend is connected to the Internet Computer canister and displays the active canister ID and network (local vs mainnet), with a user-facing error state when the backend actor is not available.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-internet-identity-login-is-fully-usable-for-icp-usage-by-adding-a-dashboard-visible-authentication-status-indicator-that-shows-the-caller-principal-when-logged-in-and-a-clear-english-error-message-when-login-fails-or-the-user-is-authenticated-but-the-principal-cannot-be-resolved-for-backend-calls",
      "title": "Ensure Internet Identity login is fully usable for ICP usage by adding a dashboard-visible authentication status indicator that shows the caller principal when logged in, and a clear English error message when login fails or the user is authenticated but the principal cannot be resolved for backend calls.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-icp-mainnet-deployment-guidance-in-the-dashboard-that-explains-in-english-how-to-deploy-this-app-to-the-internet-computer-mainnet-distinct-from-the-existing-https-caffeine-ai-deployment-guidance-and-include-a-clear-statement-of-prerequisites-dfx-setup-cycles-canister-ids",
      "title": "Add ICP mainnet deployment guidance in the dashboard that explains (in English) how to deploy this app to the Internet Computer mainnet, distinct from the existing https://caffeine.ai deployment guidance, and include a clear statement of prerequisites (dfx setup, cycles, canister IDs).",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-working-superuser-ui-control-for-security-audits-that-is-visible-only-to-app-controller-and-security-users-it-must-provide-at-least-one-concrete-audit-workflow-action-exporting-audit-logs-to-a-downloadable-json-file-and-it-must-record-an-audit-log-entry-indicating-that-a-superuser-export-occurred",
      "title": "Add a working “Superuser” UI control for security audits that is visible only to App Controller and Security users; it must provide at least one concrete audit workflow action: exporting audit logs to a downloadable JSON file, and it must record an audit-log entry indicating that a superuser export occurred.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-existing-superuser-audit-area-to-include-additional-superuser-actions-and-controls-beyond-audit-log-export-and-ensure-each-superuser-action-records-a-corresponding-audit-log-entry",
      "title": "Expand the existing Superuser audit area to include additional superuser actions and controls beyond audit-log export, and ensure each superuser action records a corresponding audit log entry.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hook-s-to-call-the-new-backend-read-api-for-external-broadcasting-configuration-and-update-the-ui-to-display-the-current-saved-configuration-state-not-just-local-form-state",
      "title": "Add React Query hook(s) to call the new backend read API for external broadcasting configuration, and update the UI to display the current saved configuration state (not just local form state).",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-app-controller-security-only-root-terminal-panel-in-the-admin-dashboard-ui-that-provides-a-terminal-like-command-input-command-history-help-and-a-command-registry-designed-to-scale-to-hundreds-of-commands",
      "title": "Add an App Controller/Security-only “Root Terminal” panel in the admin dashboard UI that provides a terminal-like command input, command history, help, and a command registry designed to scale to hundreds of commands.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-core-set-of-root-terminal-commands-that-map-to-existing-backend-capabilities-audit-logs-user-management-broadcasting-configuration-and-ensure-each-command-execution-is-recorded-as-an-audit-log-entry",
      "title": "Implement a core set of Root Terminal commands that map to existing backend capabilities (audit logs, user management, broadcasting configuration) and ensure each command execution is recorded as an audit log entry.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-make-root-terminal-commands-execute-reliably-without-crashing-when-audit-logging-is-unavailable-e-g-user-not-authenticated-actor-not-available-or-audit-recording-fails-by-ensuring-audit-log-recording-from-terminal-commands-is-best-effort-and-never-causes-the-command-itself-to-fail",
      "title": "Make Root Terminal commands execute reliably without crashing when audit logging is unavailable (e.g., user not authenticated, actor not available, or audit recording fails), by ensuring audit-log recording from terminal commands is best-effort and never causes the command itself to fail.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-root-terminal-user-facing-error-messages-and-status-hints-so-users-can-self-diagnose-why-commands-may-not-work-backend-connection-missing-login-required-insufficient-privileges-directly-in-the-terminal-output",
      "title": "Improve Root Terminal user-facing error messages and status hints so users can self-diagnose why commands may not work (backend connection missing, login required, insufficient privileges) directly in the terminal output.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-root-terminal-basic-usability-works-end-to-end-typing-in-the-input-pressing-enter-to-execute-showing-output-and-core-commands-like-help-and-clear-functioning-consistently",
      "title": "Ensure Root Terminal basic usability works end-to-end: typing in the input, pressing Enter to execute, showing output, and core commands like \"help\" and \"clear\" functioning consistently.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-root-terminal-command-set-to-cover-all-available-backend-canister-capabilities-beyond-the-current-core-set-while-keeping-the-command-list-flat-non-namespaced-include-commands-for-security-role-administration-grant-revoke-and-status-in-addition-to-existing-audit-user-management-and-broadcasting-commands",
      "title": "Expand the Root Terminal command set to cover all available backend canister capabilities beyond the current core set, while keeping the command list flat (non-namespaced). Include commands for Security role administration (grant, revoke, and status) in addition to existing audit, user-management, and broadcasting commands.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-add-root-terminal-commands-that-expose-backend-audit-log-functionality-beyond-export-including-at-minimum-listing-audit-logs-with-optional-filters-by-time-range-principal-severity-and-action-type-and-recording-a-new-audit-entry-with-user-supplied-fields-within-the-backend-s-authorization-rules",
      "title": "Add Root Terminal commands that expose backend audit-log functionality beyond export, including at minimum: listing audit logs with optional filters (by time range, principal, severity, and action type) and recording a new audit entry with user-supplied fields (within the backend’s authorization rules).",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-add-root-terminal-commands-that-expose-backend-user-profile-capabilities-including-fetching-the-caller-s-profile-and-saving-updating-the-caller-s-profile-name",
      "title": "Add Root Terminal commands that expose backend user-profile capabilities, including fetching the caller’s profile and saving/updating the caller’s profile (name).",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-add-root-terminal-utility-diagnostic-commands-non-backend-that-help-operators-self-diagnose-terminal-usage-and-environment-while-keeping-them-clearly-labeled-as-simulated-local-only-when-applicable",
      "title": "Add Root Terminal utility/diagnostic commands (non-backend) that help operators self-diagnose terminal usage and environment, while keeping them clearly labeled as simulated/local-only when applicable.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-every-root-terminal-command-execution-backend-powered-and-local-only-attempts-to-record-a-best-effort-audit-log-entry-describing-the-command-invoked-including-arguments-where-safe-without-causing-the-command-to-fail-if-audit-logging-is-unavailable",
      "title": "Ensure every Root Terminal command execution (backend-powered and local-only) attempts to record a best-effort audit log entry describing the command invoked (including arguments where safe), without causing the command to fail if audit logging is unavailable.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-icp-controls-panel-in-the-admin-dashboard-ui-visible-to-the-same-roles-as-the-dashboard-that-lets-an-operator-1-select-the-target-network-local-or-icp-mainnet-2-view-and-edit-the-active-canister-id-and-3-reset-these-settings-back-to-the-app-defaults",
      "title": "Add a new \"ICP Controls\" panel in the Admin Dashboard UI (visible to the same roles as the dashboard) that lets an operator: (1) select the target network (Local or ICP Mainnet), (2) view and edit the active canister ID, and (3) reset these settings back to the app defaults.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-icp-controls-settings-on-the-client-so-that-a-they-survive-page-navigation-and-refresh-during-the-session-and-b-they-can-optionally-be-provided-via-url-parameters-for-quick-access-during-operations-url-provided-values-must-take-precedence-over-stored-values",
      "title": "Persist ICP Controls settings on the client so that (a) they survive page navigation and refresh during the session, and (b) they can optionally be provided via URL parameters for quick access during operations; URL-provided values must take precedence over stored values.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-the-effective-icp-controls-configuration-into-backend-actor-creation-so-that-the-app-attempts-to-connect-to-the-canister-specified-by-the-active-settings-network-canister-id-the-app-must-re-create-reconnect-the-actor-when-these-settings-change-so-that-backend-powered-features-including-the-root-terminal-use-the-updated-target",
      "title": "Wire the effective ICP Controls configuration into backend actor creation so that the app attempts to connect to the canister specified by the active settings (network + canister ID). The app must re-create/reconnect the actor when these settings change so that backend-powered features (including the Root Terminal) use the updated target.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-existing-icp-connection-status-panel-to-display-the-effective-network-and-canister-id-that-the-app-is-currently-configured-to-use-including-any-overrides-coming-from-icp-controls-and-provide-clear-english-error-text-when-the-configured-target-cannot-be-reached",
      "title": "Update the existing \"ICP Connection Status\" panel to display the *effective* network and canister ID that the app is currently configured to use (including any overrides coming from ICP Controls), and provide clear English error text when the configured target cannot be reached.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-simulated-placeholder-command-set-from-the-root-terminal-command-registry-so-that-the-terminal-only-exposes-commands-that-are-either-a-real-backend-powered-administrative-operations-or-b-explicitly-labeled-local-only-diagnostics-no-fake-os-file-network-commands",
      "title": "Remove the simulated/placeholder command set from the Root Terminal command registry so that the terminal only exposes commands that are either (a) real backend-powered administrative operations or (b) explicitly labeled local-only diagnostics (no fake OS/file/network commands).",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-that-any-root-terminal-commands-that-perform-administrative-actions-e-g-role-security-management-audit-operations-user-management-broadcasting-configuration-execute-real-backend-canister-calls-and-do-not-return-simulated-success-messages",
      "title": "Ensure that any Root Terminal commands that perform administrative actions (e.g., role/security management, audit operations, user management, broadcasting configuration) execute real backend canister calls and do not return simulated success messages.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-update-root-terminal-user-facing-copy-to-accurately-describe-the-terminal-s-capabilities-internet-computer-canister-administration-avoiding-claims-of-full-system-access",
      "title": "Update Root Terminal user-facing copy to accurately describe the terminal’s capabilities (Internet Computer canister administration), avoiding claims of “full system access.”",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-existing-admin-dashboard-icp-controls-area-frontend-src-components-icpcontrolspanel-tsx-into-a-scalable-icp-controls-catalog-ui-that-can-support-hundreds-of-icp-related-controls-without-becoming-unusable-including-1-category-navigation-tabs-accordion-side-nav-2-a-search-box-that-filters-controls-by-name-keywords-and-3-a-compact-control-list-layout-suitable-for-200-entries",
      "title": "Expand the existing Admin Dashboard “ICP Controls” area (frontend/src/components/IcpControlsPanel.tsx) into a scalable “ICP Controls Catalog” UI that can support hundreds of ICP-related controls without becoming unusable, including: (1) category navigation (tabs/accordion/side-nav), (2) a search box that filters controls by name/keywords, and (3) a compact control list layout suitable for 200+ entries.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-data-driven-icp-controls-registry-new-frontend-module-that-defines-icp-control-items-id-title-description-category-type-and-any-parameters-and-populate-it-with-at-least-200-icp-control-entries-that-are-real-ui-controls-toggles-inputs-buttons-presets-rather-than-hardcoded-jsx-so-new-controls-can-be-added-by-appending-registry-entries",
      "title": "Implement a data-driven “ICP controls registry” (new frontend module) that defines ICP control items (id, title, description, category, type, and any parameters), and populate it with at least 200 ICP control entries that are real UI controls (toggles/inputs/buttons/presets) rather than hardcoded JSX, so new controls can be added by appending registry entries.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-existing-icp-controls-client-side-configuration-frontend-src-hooks-useicpcontrols-ts-and-frontend-src-utils-icpcontrols-ts-to-support-additional-icp-operational-settings-beyond-network-canisterid-for-example-agent-host-override-presets-request-timeout-polling-retry-tuning-and-diagnostics-toggles-and-persist-these-settings-with-the-same-precedence-rules-already-used-url-parameter-overrides-take-precedence-over-sessionstorage-which-takes-precedence-over-defaults",
      "title": "Extend the existing ICP Controls client-side configuration (frontend/src/hooks/useIcpControls.ts and frontend/src/utils/icpControls.ts) to support additional ICP operational settings beyond network/canisterId (for example: agent host override presets, request timeout, polling/retry tuning, and diagnostics toggles), and persist these settings with the same precedence rules already used (URL parameter overrides take precedence over sessionStorage, which takes precedence over defaults).",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-expanded-icp-controls-catalog-includes-a-clear-export-settings-and-import-settings-capability-that-allows-an-operator-to-download-the-current-effective-icp-controls-configuration-as-a-json-file-and-later-re-import-it-to-restore-the-same-configuration-client-side-only",
      "title": "Ensure the expanded ICP Controls Catalog includes a clear “Export settings” and “Import settings” capability that allows an operator to download the current effective ICP controls configuration as a JSON file and later re-import it to restore the same configuration (client-side only).",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-access-denied-experience-for-authenticated-users-to-clearly-explain-how-to-obtain-superuser-level-access-app-controller-or-security-role-for-icp-operations-and-provide-the-user-s-principal-id-with-a-one-click-copy-action-so-it-can-be-sent-to-the-app-controller-for-security-role-granting",
      "title": "Update the Access Denied experience for authenticated users to clearly explain how to obtain Superuser-level access (App Controller or Security role) for ICP operations, and provide the user’s Principal ID with a one-click copy action so it can be sent to the App Controller for Security-role granting.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-allow-authenticated-but-unauthorized-users-to-view-icp-connectivity-and-configuration-information-needed-to-access-the-icp-properly-by-rendering-read-only-icp-status-and-editable-icp-controls-configuration-directly-on-the-access-denied-screen-without-exposing-audit-logs-user-management-superuser-audit-actions-or-the-root-terminal",
      "title": "Allow authenticated-but-unauthorized users to view ICP connectivity and configuration information needed to “access the ICP properly” by rendering read-only ICP status and editable ICP Controls configuration directly on the Access Denied screen, without exposing audit logs, user management, superuser audit actions, or the Root Terminal.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hook-s-to-the-frontend-to-call-the-new-backend-apis-for-1-checking-the-caller-s-icp-controller-status-and-2-listing-granting-revoking-icp-controller-principals-including-cache-invalidation-for-any-affected-queries",
      "title": "Add React Query hook(s) to the frontend to call the new backend APIs for: (1) checking the caller’s ICP Controller status, and (2) listing/granting/revoking ICP Controller principals, including cache invalidation for any affected queries.",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-ui-to-display-an-icp-controller-role-badge-for-authenticated-users-who-have-the-icp-controller-role-including-users-who-are-also-app-controller-using-english-user-facing-text",
      "title": "Update the frontend UI to display an \"ICP Controller\" role badge for authenticated users who have the ICP Controller role (including users who are also App Controller), using English user-facing text.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-app-controller-only-dashboard-panel-to-manage-the-icp-controller-role-allow-entering-a-principal-granting-the-icp-controller-role-revoking-the-icp-controller-role-and-viewing-the-current-list-of-icp-controller-principals",
      "title": "Add an App Controller–only dashboard panel to manage the ICP Controller role: allow entering a principal, granting the ICP Controller role, revoking the ICP Controller role, and viewing the current list of ICP Controller principals.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-access-gating-so-authenticated-users-with-the-icp-controller-role-can-access-an-icp-operations-experience-without-requiring-app-controller-or-security-while-keeping-the-existing-security-dashboard-restricted-to-app-controller-or-security-users",
      "title": "Update frontend access gating so authenticated users with the ICP Controller role can access an ICP-operations experience (without requiring App Controller or Security), while keeping the existing Security Dashboard restricted to App Controller or Security users.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-icp-controller-focused-page-panel-that-exposes-icp-operational-tools-read-write-client-side-configuration-connection-diagnostics-and-explicitly-excludes-security-audit-admin-functionality-audit-logs-flagged-users-broadcasting-config-superuser-audit-tools-security-role-management-and-icp-controller-role-management",
      "title": "Add a new ICP Controller–focused page/panel that exposes ICP operational tools (read/write client-side configuration + connection diagnostics) and explicitly excludes security/audit/admin functionality (audit logs, flagged users, broadcasting config, superuser audit tools, Security role management, and ICP Controller role management).",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-icp-controller-only-root-terminal-mode-or-a-separate-terminal-instance-that-exposes-only-safe-icp-operations-diagnostic-and-profile-commands-and-hides-removes-security-audit-role-management-commands-for-icp-controller-only-users",
      "title": "Add an ICP Controller-only Root Terminal mode (or a separate terminal instance) that exposes only safe ICP-operations/diagnostic and profile commands, and hides/removes security/audit/role-management commands for ICP Controller-only users.",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-explicit-user-visible-way-to-open-the-icp-controller-experience-the-icp-operations-console-so-that-users-with-the-icp-controller-role-can-reliably-find-it-instead-of-relying-on-implicit-role-based-rendering",
      "title": "Add an explicit, user-visible way to open the ICP Controller experience (the ICP Operations Console) so that users with the ICP Controller role can reliably find it instead of relying on implicit role-based rendering.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-support-users-who-have-both-security-app-controller-access-and-the-icp-controller-role-by-allowing-them-to-switch-between-the-security-dashboard-admindashboard-and-the-icp-operations-console-icpopsdashboard-without-changing-roles",
      "title": "Support users who have both Security/App Controller access and the ICP Controller role by allowing them to switch between the Security Dashboard (AdminDashboard) and the ICP Operations Console (IcpOpsDashboard) without changing roles.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-the-selected-view-security-dashboard-vs-icp-operations-on-the-client-so-that-refresh-navigation-during-the-session-keeps-the-user-on-the-last-selected-view-while-still-respecting-role-based-access-rules",
      "title": "Persist the selected view (Security Dashboard vs ICP Operations) on the client so that refresh/navigation during the session keeps the user on the last selected view, while still respecting role-based access rules.",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-icp-controller-page-icp-operations-console-visibility-by-correcting-react-query-cache-invalidation-for-the-icp-controller-status-query-so-the-ui-updates-immediately-after-granting-revoking-the-icp-controller-role",
      "title": "Fix ICP Controller page (\"ICP Operations Console\") visibility by correcting React Query cache invalidation for the ICP Controller status query so the UI updates immediately after granting/revoking the ICP Controller role.",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    },
    {
      "id": "feature-add-icp-focused-root-terminal-commands-to-the-security-app-controller-root-terminal-full-registry-to-administer-and-inspect-the-icp-controller-role-using-real-backend-canister-calls",
      "title": "Add ICP-focused \"root terminal\" commands to the Security/App Controller Root Terminal (full registry) to administer and inspect the ICP Controller role using real backend canister calls.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-frontend-roles-access-panel-shown-to-authenticated-users-on-both-the-security-dashboard-and-the-icp-operations-console-that-1-displays-the-logged-in-principal-2-displays-the-current-app-controller-principal-returned-by-the-backend-or-shows-not-initialized-3-explains-in-english-that-only-these-roles-exist-in-this-app-app-controller-security-and-icp-controller-and-4-explicitly-states-that-requests-for-roles-like-world-wide-web-controller-root-controller-or-hacker-controller-are-not-supported",
      "title": "Add a frontend \"Roles & Access\" panel (shown to authenticated users on both the Security Dashboard and the ICP Operations Console) that: (1) displays the logged-in Principal, (2) displays the current App Controller Principal returned by the backend (or shows \"Not initialized\"), (3) explains in English that only these roles exist in this app: App Controller, Security, and ICP Controller, and (4) explicitly states that requests for roles like \"World Wide Web Controller\", \"Root Controller\", or \"Hacker Controller\" are not supported.",
      "reqIds": [
        "REQ-61"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-one-click-claim-app-controller-action-to-the-new-roles-access-panel-that-is-only-enabled-when-a-the-backend-reports-the-system-is-not-initialized-and-b-the-user-is-authenticated-clicking-it-must-call-the-existing-backend-initialize-context-using-the-caller-principal-and-current-time-then-refresh-relevant-role-status-queries",
      "title": "Add a one-click \"Claim App Controller\" action to the new Roles & Access panel that is only enabled when (a) the backend reports the system is not initialized and (b) the user is authenticated; clicking it must call the existing backend initialize(context) using the caller principal and current time, then refresh relevant role/status queries.",
      "reqIds": [
        "REQ-62"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-one-click-grant-icp-controller-to-me-helper-in-the-existing-icp-controller-management-panel-app-controller-only-ui-that-fills-the-principal-input-with-the-currently-authenticated-user-s-principal-id-and-allows-granting-the-icp-controller-role-with-a-single-click-ensure-the-ui-updates-immediately-after-granting",
      "title": "Add a one-click \"Grant ICP Controller to me\" helper in the existing ICP Controller Management panel (App Controller-only UI) that fills the principal input with the currently authenticated user’s Principal ID and allows granting the ICP Controller role with a single click; ensure the UI updates immediately after granting.",
      "reqIds": [
        "REQ-63"
      ],
      "version": 1
    },
    {
      "id": "feature-update-user-facing-copy-to-explicitly-clarify-that-a-requested-web-control-world-wide-web-controller-role-is-not-supported-by-this-application-and-guide-the-user-toward-the-supported-roles-app-controller-security-icp-controller-that-can-actually-be-granted",
      "title": "Update user-facing copy to explicitly clarify that a requested \"Web control\" / \"World Wide Web Controller\" role is not supported by this application, and guide the user toward the supported roles (App Controller, Security, ICP Controller) that can actually be granted.",
      "reqIds": [
        "REQ-64"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-access-denied-screen-copy-for-authenticated-but-unauthorized-users-to-include-an-explicit-note-that-web-control-access-cannot-be-granted-because-it-is-not-a-supported-role-in-this-app-and-point-users-to-requesting-security-or-icp-controller-access-instead",
      "title": "Update the Access Denied screen copy for authenticated-but-unauthorized users to include an explicit note that \"Web control\" access cannot be granted because it is not a supported role in this app, and point users to requesting Security or ICP Controller access instead.",
      "reqIds": [
        "REQ-65"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-support-for-the-world-wide-web-controller-role-a-caller-status-query-hook-plus-app-controller-only-hooks-for-listing-granting-and-revoking-world-wide-web-controller-principals-including-correct-cache-invalidation-so-ui-updates-immediately-after-changes",
      "title": "Add React Query support for the World Wide Web Controller role: a caller-status query hook plus App Controller–only hooks for listing, granting, and revoking World Wide Web Controller principals, including correct cache invalidation so UI updates immediately after changes.",
      "reqIds": [
        "REQ-68"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-frontend-access-gating-so-authenticated-users-with-the-world-wide-web-controller-role-can-access-an-icp-operations-experience-the-existing-icp-operations-console-without-requiring-app-controller-or-security-while-keeping-the-security-dashboard-restricted-to-app-controller-or-security-users",
      "title": "Extend frontend access gating so authenticated users with the World Wide Web Controller role can access an ICP operations experience (the existing ICP Operations Console) without requiring App Controller or Security, while keeping the Security Dashboard restricted to App Controller or Security users.",
      "reqIds": [
        "REQ-69"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-the-security-dashboard-admindashboard-with-an-app-controller-only-management-panel-for-the-world-wide-web-controller-role-that-allows-entering-a-principal-granting-the-role-revoking-the-role-and-viewing-the-current-list-of-world-wide-web-controller-principals",
      "title": "Extend the Security Dashboard (AdminDashboard) with an App Controller–only management panel for the World Wide Web Controller role that allows entering a principal, granting the role, revoking the role, and viewing the current list of World Wide Web Controller principals.",
      "reqIds": [
        "REQ-70"
      ],
      "version": 1
    },
    {
      "id": "feature-update-user-facing-copy-throughout-the-app-to-treat-world-wide-web-controller-web-control-as-a-supported-role-remove-the-current-not-supported-warnings-and-include-it-in-the-displayed-list-of-supported-roles-english-only",
      "title": "Update user-facing copy throughout the app to treat \"World Wide Web Controller\" / \"Web control\" as a supported role (remove the current \"not supported\" warnings) and include it in the displayed list of supported roles (English only).",
      "reqIds": [
        "REQ-71"
      ],
      "version": 1
    },
    {
      "id": "feature-add-root-terminal-support-for-world-wide-web-controller-administration-in-the-full-security-app-controller-terminal-command-set-by-adding-real-backend-powered-commands-to-list-grant-revoke-and-check-status-for-the-world-wide-web-controller-role",
      "title": "Add Root Terminal support for World Wide Web Controller administration in the full (Security/App Controller) terminal command set by adding real backend-powered commands to list, grant, revoke, and check status for the World Wide Web Controller role.",
      "reqIds": [
        "REQ-72"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-world-wide-web-controller-management-ui-to-reflect-the-new-behavior-remove-avoid-any-user-facing-messaging-that-claims-granting-the-world-wide-web-controller-role-to-the-app-controller-is-blocked-due-to-privilege-escalation-risk-and-ensure-any-errors-shown-when-granting-are-accurate-english-only",
      "title": "Update the frontend World Wide Web Controller management UI to reflect the new behavior: remove/avoid any user-facing messaging that claims granting the World Wide Web Controller role to the App Controller is blocked due to privilege escalation risk, and ensure any errors shown when granting are accurate (English only).",
      "reqIds": [
        "REQ-75"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-icp-operations-console-frontend-src-pages-icpopsdashboard-tsx-to-provide-a-distinct-web-control-experience-when-the-authenticated-user-has-the-world-wide-web-controller-role-web-control-including-selecting-a-web-control-specific-terminal-command-registry-instead-of-always-using-the-icp-controller-command-registry",
      "title": "Update the ICP Operations Console (frontend/src/pages/IcpOpsDashboard.tsx) to provide a distinct Web Control experience when the authenticated user has the World Wide Web Controller role (\"Web Control\"), including selecting a Web Control-specific terminal command registry instead of always using the ICP Controller command registry.",
      "reqIds": [
        "REQ-76"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-web-control-safe-terminal-command-registry-new-file-under-frontend-src-terminal-e-g-frontend-src-terminal-worldwidewebcontrollercommands-ts-and-wire-it-into-icpopsdashboard-for-world-wide-web-controller-users-the-command-set-must-be-safe-no-security-audit-role-admin-user-management-broadcast-config-commands-and-must-include-at-minimum-help-clear-and-a-role-self-check-command-that-reports-world-wide-web-controller-role-status-using-a-real-backend-canister-call",
      "title": "Create a new Web Control-safe terminal command registry (new file under frontend/src/terminal/, e.g. frontend/src/terminal/worldWideWebControllerCommands.ts) and wire it into IcpOpsDashboard for World Wide Web Controller users. The command set must be safe (no security/audit/role-admin/user-management/broadcast-config commands) and must include at minimum: help, clear, and a role self-check command that reports World Wide Web Controller role status using a real backend canister call.",
      "reqIds": [
        "REQ-77"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-every-web-control-terminal-command-attempts-best-effort-audit-recording-using-the-existing-terminal-guard-audit-helper-patterns-and-that-audit-recording-failures-never-cause-the-command-itself-to-fail-mirror-the-reliability-behavior-expected-of-the-root-terminal",
      "title": "Ensure every Web Control terminal command attempts best-effort audit recording using the existing terminal guard/audit helper patterns, and that audit-recording failures never cause the command itself to fail (mirror the reliability behavior expected of the Root Terminal).",
      "reqIds": [
        "REQ-78"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-world-wide-web-controller-web-control-terminal-command-set-to-include-the-previously-suggested-additions-1-read-only-icp-diagnostic-commands-2-frontend-side-operational-tools-and-3-self-service-role-principal-confirmation-helpers-while-keeping-the-command-set-safe-no-security-audit-role-admin-user-management-broadcasting-config-commands",
      "title": "Expand the World Wide Web Controller (\"Web Control\") terminal command set to include the previously suggested additions: (1) read-only ICP diagnostic commands, (2) frontend-side operational tools, and (3) self-service role/principal confirmation helpers, while keeping the command set safe (no security/audit/role-admin/user-management/broadcasting-config commands).",
      "reqIds": [
        "REQ-79"
      ],
      "version": 1
    },
    {
      "id": "feature-scale-the-web-control-terminal-to-hundreds-more-functions-by-implementing-a-data-driven-web-control-command-catalog-that-produces-at-least-200-distinct-web-control-commands-available-via-help-without-making-the-terminal-unusable",
      "title": "Scale the Web Control terminal to \"hundreds more\" functions by implementing a data-driven Web Control command catalog that produces at least 200 distinct Web Control commands available via \"help\", without making the terminal unusable.",
      "reqIds": [
        "REQ-80"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-every-web-control-terminal-command-existing-and-newly-added-attempts-best-effort-audit-recording-using-the-existing-terminal-guard-audit-helper-pattern-and-never-fails-solely-because-audit-logging-is-unavailable-backend-not-reachable-user-not-authenticated-or-audit-recording-fails",
      "title": "Ensure every Web Control terminal command (existing and newly added) attempts best-effort audit recording using the existing terminal guard/audit helper pattern and never fails solely because audit logging is unavailable (backend not reachable, user not authenticated, or audit recording fails).",
      "reqIds": [
        "REQ-81"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-web-control-focused-quick-tools-ui-section-within-the-icp-operations-console-for-world-wide-web-controller-users-that-exposes-safe-frontend-side-actions-for-example-copy-principal-export-icp-controls-settings-json-import-icp-controls-settings-json-reset-icp-controls-to-defaults-and-refresh-retry-connection-checks-without-exposing-security-dashboard-only-functionality",
      "title": "Add a Web Control-focused “quick tools” UI section within the ICP Operations Console for World Wide Web Controller users that exposes safe frontend-side actions (for example: copy principal, export ICP Controls settings JSON, import ICP Controls settings JSON, reset ICP Controls to defaults, and refresh/retry connection checks) without exposing Security Dashboard-only functionality.",
      "reqIds": [
        "REQ-82"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-and-query-keys-for-network-graph-read-and-write-operations-including-correct-cache-invalidation-so-the-map-ui-updates-immediately-after-any-remote-edit",
      "title": "Add React Query hooks and query keys for network graph read and write operations, including correct cache invalidation so the map UI updates immediately after any remote edit.",
      "reqIds": [
        "REQ-84"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-interactive-network-map-panel-in-the-frontend-with-pan-zoom-and-clickable-nodes-including-an-inspector-editor-ui-that-allows-authorized-users-to-remotely-edit-nodes-edges-and-save-changes-to-the-backend",
      "title": "Implement an interactive Network Map panel in the frontend with pan/zoom and clickable nodes, including an inspector/editor UI that allows authorized users to remotely edit nodes/edges and save changes to the backend.",
      "reqIds": [
        "REQ-85"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-safety-and-conflict-handling-for-remote-edits-so-users-do-not-accidentally-overwrite-each-other-s-changes-without-noticing",
      "title": "Add basic safety and conflict handling for remote edits so users do not accidentally overwrite each other’s changes without noticing.",
      "reqIds": [
        "REQ-86"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-my-nodes-management-section-to-the-network-map-ui-frontend-src-components-networkmappanel-tsx-so-a-user-can-reliably-see-and-manage-the-nodes-they-personally-created-from-the-add-new-node-form",
      "title": "Add a “My Nodes” management section to the Network Map UI (frontend/src/components/NetworkMapPanel.tsx) so a user can reliably see and manage the nodes they personally created from the “Add New Node” form.",
      "reqIds": [
        "REQ-87"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-the-set-of-node-ids-created-by-the-current-user-on-the-client-scoped-by-the-logged-in-principal-so-the-user-can-still-see-my-nodes-after-page-refresh-during-the-same-browser-session",
      "title": "Persist the set of node IDs created by the current user on the client (scoped by the logged-in principal) so the user can still see “My Nodes” after page refresh during the same browser session.",
      "reqIds": [
        "REQ-88"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-post-create-usability-so-newly-created-nodes-are-immediately-easy-to-find-and-edit-by-auto-selecting-the-node-after-creation-and-opening-it-in-the-existing-inspector-panel",
      "title": "Improve post-create usability so newly created nodes are immediately easy to find and edit by auto-selecting the node after creation and opening it in the existing inspector panel.",
      "reqIds": [
        "REQ-89"
      ],
      "version": 1
    },
    {
      "id": "feature-repair-dropdown-select-menus-across-the-app-so-they-reliably-open-render-above-all-panels-including-the-sticky-header-and-remain-clickable-not-visually-clipped-or-hidden-in-both-light-and-dark-themes",
      "title": "Repair dropdown/select menus across the app so they reliably open, render above all panels (including the sticky header), and remain clickable (not visually clipped or hidden) in both light and dark themes.",
      "reqIds": [
        "REQ-90"
      ],
      "version": 1
    },
    {
      "id": "feature-audit-and-repair-visual-styling-regressions-affecting-core-dashboard-layouts-header-cards-panels-spacing-typography-to-ensure-a-consistent-readable-ui-in-both-light-and-dark-themes",
      "title": "Audit and repair visual styling regressions affecting core dashboard layouts (header, cards, panels, spacing, typography) to ensure a consistent, readable UI in both light and dark themes.",
      "reqIds": [
        "REQ-91"
      ],
      "version": 1
    },
    {
      "id": "feature-repair-network-map-visual-presentation-so-the-canvas-is-clearly-visible-and-the-graph-nodes-edges-labels-is-legible-against-the-background-in-both-light-and-dark-themes",
      "title": "Repair Network Map visual presentation so the canvas is clearly visible and the graph (nodes/edges/labels) is legible against the background in both light and dark themes.",
      "reqIds": [
        "REQ-92"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-tab-like-navigation-controls-e-g-the-icp-controls-catalog-category-tabs-remain-visually-consistent-and-usable-with-clear-active-state-styling-and-no-broken-layout-overflow-at-common-viewport-sizes",
      "title": "Ensure tab-like navigation controls (e.g., the ICP Controls Catalog category tabs) remain visually consistent and usable, with clear active-state styling and no broken layout/overflow at common viewport sizes.",
      "reqIds": [
        "REQ-93"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-backend-actor-creation-so-it-is-keyed-by-and-connects-using-the-effective-icp-controls-target-settings-ensuring-the-actor-is-re-created-whenever-the-operator-changes-icp-network-and-or-canister-id-settings",
      "title": "Fix backend actor creation so it is keyed by (and connects using) the effective ICP Controls target settings, ensuring the actor is re-created whenever the operator changes ICP network and/or canister ID settings.",
      "reqIds": [
        "REQ-94"
      ],
      "version": 1
    },
    {
      "id": "feature-make-network-graph-react-query-caching-target-aware-so-a-failed-load-or-successful-load-for-one-icp-target-does-not-incorrectly-persist-when-switching-to-a-different-target",
      "title": "Make Network Graph React Query caching target-aware so a failed load (or successful load) for one ICP target does not incorrectly persist when switching to a different target.",
      "reqIds": [
        "REQ-95"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-network-map-load-failure-ux-so-that-when-the-network-graph-cannot-be-fetched-due-to-icp-connectivity-target-issues-the-ui-clearly-explains-that-the-canister-target-is-unreachable-shows-the-effective-network-canister-id-and-provides-a-one-click-retry-that-re-runs-the-fetch-after-the-actor-connection-is-re-established",
      "title": "Improve the Network Map load-failure UX so that when the network graph cannot be fetched due to ICP connectivity/target issues, the UI clearly explains that the canister target is unreachable, shows the effective network + canister ID, and provides a one-click retry that re-runs the fetch after the actor/connection is re-established.",
      "reqIds": [
        "REQ-96"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-network-graph-fetching-when-the-effective-canister-id-is-not-a-valid-principal-text-or-is-a-placeholder-value-and-instead-present-an-english-guidance-message-prompting-the-user-to-set-a-valid-canister-id-in-icp-controls-before-retrying",
      "title": "Prevent network graph fetching when the effective canister ID is not a valid principal text (or is a placeholder value), and instead present an English guidance message prompting the user to set a valid canister ID in ICP Controls before retrying.",
      "reqIds": [
        "REQ-97"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-clearly-labeled-web-controller-tools-section-in-the-icp-operations-console-that-is-visible-only-when-the-authenticated-user-has-the-world-wide-web-controller-web-control-role-and-is-not-using-the-icp-controller-terminal-mode-and-ensure-it-provides-only-safe-client-side-operational-tools-no-security-audit-admin-actions",
      "title": "Add a clearly labeled “Web Controller Tools” section in the ICP Operations Console that is visible only when the authenticated user has the World Wide Web Controller (“Web Control”) role (and is not using the ICP Controller terminal mode), and ensure it provides only safe, client-side operational tools (no security/audit/admin actions).",
      "reqIds": [
        "REQ-98"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-full-screen-loading-screen-in-frontend-src-app-tsx-so-the-app-never-blocks-the-entire-ui-behind-a-global-loading-spinner-while-authentication-role-profile-queries-are-in-flight",
      "title": "Remove the full-screen \"Loading...\" screen in frontend/src/App.tsx so the app never blocks the entire UI behind a global loading spinner while authentication/role/profile queries are in-flight.",
      "reqIds": [
        "REQ-99"
      ],
      "version": 1
    },
    {
      "id": "feature-disable-automatic-updates-polling-behavior-in-the-frontend-so-data-does-not-refresh-on-an-interval-or-due-to-implicit-react-query-auto-refetch-defaults-updates-must-occur-only-on-explicit-user-action-e-g-button-click-or-after-a-user-initiated-mutation-invalidates-queries",
      "title": "Disable automatic updates/polling behavior in the frontend so data does not refresh on an interval or due to implicit React Query auto-refetch defaults; updates must occur only on explicit user action (e.g., button click) or after a user-initiated mutation invalidates queries.",
      "reqIds": [
        "REQ-100"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-blocking-checking-access-screen-from-the-main-app-flow-so-authenticated-users-are-never-stopped-on-a-dedicated-access-check-gate-while-role-queries-are-in-flight-keep-the-header-footer-visible-and-render-the-appropriate-content-without-showing-the-centered-spinner-page",
      "title": "Remove the blocking \"Checking access...\" screen from the main app flow so authenticated users are never stopped on a dedicated access-check gate while role queries are in-flight; keep the header/footer visible and render the appropriate content without showing the centered spinner page.",
      "reqIds": [
        "REQ-101"
      ],
      "version": 1
    },
    {
      "id": "feature-preserve-existing-role-based-access-rules-while-removing-the-access-check-gate-security-dashboard-remains-accessible-only-to-app-controller-or-security-users-icp-operations-console-remains-accessible-only-to-icp-controller-or-world-wide-web-controller-users-unauthorized-authenticated-users-continue-to-see-the-existing-access-denied-experience-once-role-status-is-known",
      "title": "Preserve existing role-based access rules while removing the access-check gate: Security Dashboard remains accessible only to App Controller or Security users; ICP Operations Console remains accessible only to ICP Controller or World Wide Web Controller users; unauthorized authenticated users continue to see the existing Access Denied experience once role status is known.",
      "reqIds": [
        "REQ-102"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-remaining-centered-loading-spinner-shown-while-authenticated-role-queries-are-in-flight-in-frontend-src-app-tsx-and-replace-it-with-a-non-spinner-non-animated-inline-loading-state-that-keeps-the-rest-of-the-ui-visible-header-footer-and-uses-clear-english-text",
      "title": "Remove the remaining centered loading spinner shown while authenticated role queries are in-flight in frontend/src/App.tsx, and replace it with a non-spinner, non-animated inline loading state that keeps the rest of the UI visible (header/footer) and uses clear English text.",
      "reqIds": [
        "REQ-103"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-or-replace-all-spinner-rotating-loading-indicators-across-dashboard-panels-and-status-components-including-but-not-limited-to-rolesaccesspanel-authstatuspanel-icpconnectionpanel-and-networkmappanel-so-that-no-ui-state-uses-a-spinning-rotating-icon-or-css-based-spinner-animation-use-non-animated-icons-and-or-english-text-to-indicate-loading-instead",
      "title": "Remove or replace all spinner/rotating loading indicators across dashboard panels and status components (including but not limited to RolesAccessPanel, AuthStatusPanel, IcpConnectionPanel, and NetworkMapPanel) so that no UI state uses a spinning/rotating icon or CSS-based spinner animation; use non-animated icons and/or English text to indicate loading instead.",
      "reqIds": [
        "REQ-104"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-dedicated-role-loading-access-loading-screen-in-frontend-src-app-tsx-so-the-app-never-switches-to-a-standalone-loading-view-e-g-the-centered-loading-access-information-state-while-authenticated-role-queries-are-in-flight-instead-keep-the-normal-page-content-visible-and-show-only-non-blocking-inline-status-hints-where-needed-english-text-only",
      "title": "Remove the dedicated role-loading / access-loading screen in frontend/src/App.tsx so the app never switches to a standalone loading view (e.g., the centered \"Loading access information...\" state) while authenticated role queries are in-flight; instead, keep the normal page content visible and show only non-blocking inline status hints where needed (English text only).",
      "reqIds": [
        "REQ-105"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-loading-screen-style-placeholders-inside-feature-panels-e-g-large-centered-loading-states-in-panels-and-replace-them-with-non-blocking-inline-status-text-that-does-not-visually-behave-like-a-separate-loading-screen-no-full-height-framed-loading-canvases-at-minimum-update-frontend-src-components-networkmappanel-tsx-to-avoid-rendering-the-600px-centered-loading-placeholder-when-the-graph-query-is-loading",
      "title": "Remove loading-screen style placeholders inside feature panels (e.g., large centered loading states in panels) and replace them with non-blocking inline status text that does not visually behave like a separate loading screen (no full-height framed loading canvases). At minimum, update frontend/src/components/NetworkMapPanel.tsx to avoid rendering the 600px centered loading placeholder when the graph query is loading.",
      "reqIds": [
        "REQ-106"
      ],
      "version": 1
    },
    {
      "id": "feature-eliminate-any-remaining-modal-screen-level-loading-indicators-that-visually-present-as-a-blocking-loading-experience-including-removing-animated-spinner-icons-used-during-mutations-at-minimum-update-frontend-src-components-profilesetupmodal-tsx-to-remove-the-animated-spinning-icon-and-use-an-english-text-only-pending-state-e-g-change-button-label-to-saving-while-pending",
      "title": "Eliminate any remaining modal/screen-level loading indicators that visually present as a blocking loading experience, including removing animated spinner icons used during mutations. At minimum, update frontend/src/components/ProfileSetupModal.tsx to remove the animated spinning icon and use an English text-only pending state (e.g., change button label to \"Saving...\" while pending).",
      "reqIds": [
        "REQ-107"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-ui-controls-in-the-existing-roles-access-panel-to-allow-an-authorized-operator-current-app-controller-or-security-user-to-transfer-app-controller-to-themselves-or-to-a-specified-principal-with-clear-english-user-facing-messaging",
      "title": "Add frontend UI controls in the existing “Roles & Access” panel to allow an authorized operator (current App Controller or Security user) to transfer App Controller to themselves or to a specified Principal, with clear English user-facing messaging.",
      "reqIds": [
        "REQ-109"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-mutation-hook-s-and-cache-invalidation-for-the-new-app-controller-transfer-api-so-role-dependent-ui-updates-immediately-after-transfer",
      "title": "Add React Query mutation hook(s) and cache invalidation for the new App Controller transfer API so role-dependent UI updates immediately after transfer.",
      "reqIds": [
        "REQ-110"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-full-page-refresh-behavior-from-the-web-controller-tools-panel-by-eliminating-the-refresh-connection-action-that-calls-window-location-reload-and-replace-it-with-a-non-refresh-action-that-re-runs-backend-connectivity-checks-e-g-react-query-refetch-without-reloading-the-page",
      "title": "Remove the full page-refresh behavior from the Web Controller Tools panel by eliminating the \"Refresh Connection\" action that calls window.location.reload(), and replace it with a non-refresh action that re-runs backend connectivity checks (e.g., React Query refetch) without reloading the page.",
      "reqIds": [
        "REQ-111"
      ],
      "version": 1
    },
    {
      "id": "feature-disable-react-query-automatic-refetch-behavior-that-can-feel-like-an-implicit-refresh-including-refetch-on-window-focus-and-refetch-on-reconnect-so-data-updates-happen-only-via-explicit-user-actions-buttons-or-via-deliberate-cache-invalidation-after-a-user-initiated-mutation",
      "title": "Disable React Query automatic refetch behavior that can feel like an implicit \"refresh\" (including refetch-on-window-focus and refetch-on-reconnect), so data updates happen only via explicit user actions (buttons) or via deliberate cache invalidation after a user-initiated mutation.",
      "reqIds": [
        "REQ-112"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-any-code-that-force-refetches-large-portions-of-the-react-query-cache-as-a-side-effect-of-actor-creation-changes-i-e-avoid-global-refetchqueries-patterns-that-behave-like-an-app-wide-refresh-while-keeping-correctness-when-identity-or-icp-target-changes",
      "title": "Remove any code that force-refetches large portions of the React Query cache as a side-effect of actor creation/changes (i.e., avoid global refetchQueries patterns that behave like an app-wide refresh), while keeping correctness when identity or ICP target changes.",
      "reqIds": [
        "REQ-113"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add a Security role above Administrator with site-wide security/authorization privileges for the user (app controller) on the caffeine website.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add a new privileged role named \"Security\" that can be authorized by the App Controller and is treated as higher privilege than Administrator for security/audit operations.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Implement backend authorization so Security-role users can access and perform all existing security console operations currently restricted to the App Controller: reading audit logs, recording audit entries, flagging/unflagging users, removing users, and configuring external broadcasting.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add backend methods to (a) grant and revoke Security role for a target principal (App Controller only), and (b) query whether the caller is Security.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add an App Controller capability/UI to deploy new versions of the app (initiate deployment from within the app).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Extend the App Controller’s powers/privileges beyond the current deployment capability (details TBD).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Add backend support for App Controller–only Security role administration by exposing a query to list all current Security-role principals (for display in the dashboard).",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "When the App Controller grants or revokes the Security role, record an audit log entry describing the permission change (including the target principal) using the existing audit log mechanism.",
      "reqIds": [
        "REQ-8"
      ],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add an App Controller–only standalone in-browser code editor in the dashboard that can edit both backend Motoko and frontend React/TypeScript code and apply changes via an integrated deploy action.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Integrate the frontend with the Internet Computer canister APIs (connect frontend to canister for backend calls).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add Internet Identity login/authentication (ICP) for user sign-in.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add/support deployment of the app to ICP mainnet (deployment flow targeting ICP).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add a working \"superuser\" button/control in the UI to enable the user to perform security audits properly.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Expand the Superuser UI to include additional superuser actions and controls (beyond the existing audit-log export) to better support security audit workflows.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add an App Controller/Security-only \"root terminal\" interface in the dashboard with a large command set (hundreds of commands) for administrative management.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Add backend read APIs required to support the new superuser controls and the planned Root Terminal, including a query to retrieve the current external broadcasting configuration state (enabled flag and endpoint URL).",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Expand Root Terminal to a full, flat (non-namespaced) command set covering all backend capabilities (audit logs, user management, broadcasting config, roles, deployment, ICP status, code-editor actions, etc.) plus non-backend utility/diagnostic commands.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Add ICP controls in the app UI (beyond connection status), e.g., manage/select network (local vs mainnet), view/set active canister ID, and provide clear connection/auth controls/actions for ICP integration.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Remove simulated/local-only behavior from the Root Terminal so administrative actions execute as real backend-powered operations (where authorized) rather than simulations.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Greatly expand the Admin Dashboard \"ICP Controls\" into a large set (hundreds) of ICP-related controls/actions for operations and administration.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Add a Superuser access mode/permissions so the user can access and operate ICP features properly (ICP connectivity, controls, and related admin actions).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Add an \"ICP Controller\" role/permission and allow making a user both ICP Controller and App Controller (including authorization checks and UI/management flow as needed).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Add a new privileged role named \"ICP Controller\" to the backend canister that can be granted/revoked by the App Controller, and expose APIs to: (1) grant the ICP Controller role to a target Principal (App Controller only), (2) revoke the ICP Controller role from a target Principal (App Controller only), (3) list all current ICP Controller Principals (App Controller only), and (4) query whether the caller has ICP Controller role.",
      "reqIds": [
        "REQ-46"
      ],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Record an audit log entry for each ICP Controller role change (grant/revoke) using the existing audit log mechanism, including the target Principal and whether the change was a grant or revoke.",
      "reqIds": [
        "REQ-47"
      ],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Add new dashboard features/actions that are available specifically to the \"ICP Controller\" role (beyond current access/badging/management), with appropriate authorization checks and UI gating.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Update backend authorization to support ICP Controller-specific capabilities required by the new ICP Controller operational UI/terminal, by adding dedicated authorization checks and any minimal new backend APIs needed for ICP Controller workflows (without granting access to audit logs, user management, broadcasting configuration, or role administration).",
      "reqIds": [
        "REQ-54"
      ],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Add ICP-focused Root Terminal commands (\"icp root commands\") for ICP operations/diagnostics, appropriate to the user’s role (e.g., ICP Controller-safe subset vs full Security/App Controller set).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Add a backend query API that returns the currently configured App Controller principal (or null/none if the system is not initialized yet), so the UI can accurately show who the App Controller is and whether the App Controller role can still be claimed.",
      "reqIds": [
        "REQ-60"
      ],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Handle user request to add \"Web control\" access/role (either implement a new role if in-scope or explicitly message that only App Controller, Security, and ICP Controller are supported).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Implement/support a new \"World Wide Web Controller\" role within the app and extend the dashboard to expose/manage those controls (role-based access + UI).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Implement a new privileged role named \"World Wide Web Controller\" (also referred to as \"Web control\") in the backend canister, including persisted role membership state and caller-status checks.",
      "reqIds": [
        "REQ-66"
      ],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Record audit log entries for every World Wide Web Controller role change (grant/revoke), using the existing audit log mechanism and including the initiator principal, the target principal, and whether the change was a grant or revoke.",
      "reqIds": [
        "REQ-67"
      ],
      "status": "pending"
    },
    {
      "id": "AR-37",
      "summary": "Update the backend World Wide Web Controller role-granting logic so the App Controller can grant the World Wide Web Controller role to any principal, including granting it to themselves, without triggering a “privilege escalation risk” trap.",
      "reqIds": [
        "REQ-73"
      ],
      "status": "pending"
    },
    {
      "id": "AR-38",
      "summary": "Ensure the World Wide Web Controller role does not grant access to Security/App Controller–only backend operations (audit logs, user management, external broadcasting config, Security role administration, ICP Controller administration), and that those operations continue to require App Controller or Security authorization even after a principal is granted the World Wide Web Controller role.",
      "reqIds": [
        "REQ-74"
      ],
      "status": "pending"
    },
    {
      "id": "AR-39",
      "summary": "Expand the World Wide Web Controller (Web Control) experience significantly: add read-only ICP diagnostic commands, frontend-side operational tools/controls, self-service role/principal confirmation helpers, and scale the Web Control-safe terminal/controls catalog to hundreds of additional safe functions (excluding security/audit/role-admin capabilities).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-40",
      "summary": "Add an interactive network map UI with clickable nodes and support for remote editing of nodes/graph content.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-41",
      "summary": "Add backend data models and canister APIs to store, retrieve, and remotely edit a network graph consisting of nodes and edges, so the UI can persist map edits across page refreshes.",
      "reqIds": [
        "REQ-83"
      ],
      "status": "pending"
    },
    {
      "id": "AR-42",
      "summary": "Update the Network Map UI so users can view and manage the nodes they add (e.g., list/inspect/edit/delete added nodes) rather than losing track of newly created nodes.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-43",
      "summary": "Remove the app loading screen and disable automatic updates (no auto-refresh/auto-update behavior).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-44",
      "summary": "Remove the \"Checking access\" screen (access-check/loading gate) so the app does not block the UI behind an access-check screen during authentication/role checks.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-45",
      "summary": "Remove all loading spinners throughout the app UI (eliminate remaining spinner indicators beyond the already-removed global loading/access-check screens).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-46",
      "summary": "Provide an App Controller recovery/transfer workflow so a previously-authorized user can become App Controller again (or allow an existing App Controller/Security user to re-assign App Controller) when the user is locked out.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-47",
      "summary": "Add a backend API to transfer the App Controller role to a specified target Principal when the system is already initialized, and record an audit entry for the transfer.",
      "reqIds": [
        "REQ-108"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Caffeine Security Console",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}