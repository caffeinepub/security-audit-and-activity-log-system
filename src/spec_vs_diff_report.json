{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-17T20:24:13.321Z",
  "summary": "Implemented a session-persisted dashboard view state hook and a UI view switcher intended to let multi-role users toggle between Security Dashboard and ICP Operations. However, the diff does not show an explicit, user-visible navigation control for ICP Controller-only users to open ICP Operations as required.",
  "missing_requirements": [
    {
      "id": "REQ-55",
      "requirement": "Add an explicit, user-visible way to open the ICP Controller experience (ICP Operations Console) so users with the ICP Controller role can reliably find it; hide/disable it for users without the ICP Controller role.",
      "reason": "The new navigation control (DashboardViewSwitcher) only renders when `canSwitchViews` is true (i.e., when the user has more than one allowed view). That means ICP Controller-only users (who have only the 'icp-ops' view) would not see any explicit control to open ICP Operations; the header only changes title based on selection/role, which is not a user-invoked navigation control.",
      "evidence": [
        "frontend/src/components/DashboardViewSwitcher.tsx (renders null when !canSwitchViews)",
        "frontend/src/hooks/useDashboardView.ts (canSwitchViews: allowedViews.length > 1)",
        "frontend/src/components/Header.tsx (only renders switcher when canSwitchViews && selectedView && onSelectView && allowedViews)"
      ]
    }
  ],
  "hallucinated_features": [],
  "confidence": 0.74,
  "changed_files": [
    "frontend-file-summaries.txt",
    "frontend/src/App.tsx",
    "frontend/src/components/DashboardViewSwitcher.tsx",
    "frontend/src/components/Header.tsx",
    "frontend/src/hooks/useDashboardView.ts",
    "project_state.json"
  ]
}